create table Customer_Credentials(
cus_id int primary key,
cus_name varchar,
cus_phno bigint,
cus_adhar int,
cus_add varchar,
username varchar,
psswd varchar
)
create table Cus_primary(
cus_id int primary key,
cus_name varchar,
cus_phno bigint,
cus_adhar int,
cus_add varchar
)

create table Cus_login(
cus_id int primary key,
cus_name varchar,
username varchar,
psswd varchar
)

create table Cus_delete_backup(
cus_id int primary key,
cus_name varchar,
cus_phno bigint,
cus_adhar int,
cus_add varchar,
username varchar,
psswd varchar
)

create or replace function cus_insert()
returns trigger as $$
begin
insert into Cus_primary values(new.cus_id,new.cus_name,new.cus_phno,
new.cus_adhar,
new.cus_add);
insert into Cus_login values(new.cus_id,
new.cus_name,
new.username,
new.psswd);
return new;
end;
$$ language plpgsql;

create trigger cus_df after insert on Customer_Credentials 
for each row execute function cus_insert()

create or replace function cus_bkup()
returns trigger as $$
begin
insert into Cus_delete_backup values(old.cus_id,
old.cus_name ,
old.cus_phno,
old.cus_adhar,
old.cus_add ,
old.username,
old.psswd );
return old;
end;
$$ language plpgsql;

create trigger Customer_bckup after delete on Customer_Credentials
for each row execute function cus_bkup()


create or replace function cus_update()
returns trigger as $$
begin
update Cus_login set psswd=new.psswd where cus_id=new.cus_id;
return new;
end;
$$ language plpgsql;

create trigger up_cus after update on Customer_Credentials
for each row execute function cus_update()

create or replace function cus_delete()
returns trigger as $$
begin
delete from Cus_primary where cus_id=old.cus_id;
delete from Cus_login where cus_id=old.cus_id;
return old;
end;
$$ language plpgsql;

create trigger cusdel after delete on Customer_Credentials
for each row execute function cus_delete()


INSERT INTO Customer_Credentials 
(cus_id, cus_name, cus_phno, cus_adhar, cus_add, username, psswd)
VALUES
(1, 'Arun Kumar', 9876543210, 123456789, 'Chennai, TN', 'arun_k', 'pass123'),
(2, 'Priya Sharma', 9123456780, 234567890, 'Coimbatore, TN', 'priya_s', 'priya@2025'),
(3, 'Ravi Patel', 9988776655, 345678901, 'Ahmedabad, GJ', 'ravi_p', 'ravi#pwd'),
(4, 'Sneha Reddy', 9876501234, 456789012, 'Hyderabad, TS', 'sneha_r', 'sneha@123'),
(5, 'Vikram Singh', 9123409876, 567890123, 'Delhi, DL', 'vikram_s', 'vikram2025'),
(6, 'Meena Iyer', 9988123456, 678901234, 'Mumbai, MH', 'meena_i', 'meena_pwd'),
(7, 'Karthik Raj', 9876123450, 789012345, 'Madurai, TN', 'karthik_r', 'karthik@pass'),
(8, 'Anjali Verma', 9123987654, 890123456, 'Lucknow, UP', 'anjali_v', 'anjali@2025'),
(9, 'Suresh Das', 9988001122, 901234567, 'Kolkata, WB', 'suresh_d', 'suresh_pwd'),
(10, 'Divya Nair', 9876009876, 112233445, 'Kochi, KL', 'divya_n', 'divya@pass');


select * from Customer_Credentials
select * from Cus_primary
select * from Cus_login
select * from Cus_delete_backup

update Customer_Credentials set psswd='arun@123' where cus_id=1
delete from Customer_Credentials where cus_id=10